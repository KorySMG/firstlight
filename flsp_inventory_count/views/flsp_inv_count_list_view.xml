<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="flsp_inv_count_list_view" model="ir.ui.view">
        <field name="name">Inventory Count</field>
        <field name="model">flsp.inv.count</field>
        <field name="arch" type="xml">
            <tree string="Inventory Count" create="0" delete="0"  >
                <field name="default_code"/>
                <field name="name"/>
                <field name="product_tmpl_id"/>
                <field name="product_id"/>
                <field name="flsp_inv_date"/>
                <field name="flsp_inv_user_id"/>
            </tree>
        </field>
    </record>

    <record id="flsp_inv_count_list_view" model="ir.ui.view">
        <field name="name">Inventory Count</field>
        <field name="model">flsp.inv.count</field>
        <field name="arch" type="xml">
            <tree string="Inventory Count" create="0" delete="0"  >
                <field name="default_code"/>
                <button name="confirm" type="object" string="Count" class="oe_highlight"/>
                <button name="mark_done" type="object" string="Mark as Done" class="oe_highlight"/>
                <field name="name"/>
                <field name="product_tmpl_id"/>
                <!--field name="product_id"/>
                <field name="flsp_inv_date"/>
                <field name="flsp_inv_user_id"/-->
            </tree>
        </field>
    </record>


    <record id="flsp_quant_tree_editable" model="ir.ui.view">
        <field name="name">Inventory Count Adjust</field>
        <field name="model">stock.quant</field>
        <field name="arch" type="xml">
            <tree decoration-danger="inventory_quantity &lt; 0" editable="bottom" create="1" edit="1" import="0" js_class="singleton_list">
                <field name="id" invisible="1"/>
                <field name="tracking" invisible="1"/>
                <field name="product_id" attrs="{'readonly': [('id', '!=', False)]}" invisible="context.get('single_product', False)" readonly="context.get('single_product', False)" force_save="1" options="{'no_create': True}"/>
                <field name="location_id" attrs="{'readonly': [('id', '!=', False)]}" invisible="context.get('hide_location', False)" options="{'no_create': True}"/>
                <field name="lot_id" groups="stock.group_production_lot" attrs="{                             'readonly': ['|', ('id', '!=', False), ('tracking', 'not in', ['serial', 'lot'])],                             'required': [('tracking', '!=', 'none')]                        }" invisible="context.get('hide_lot', False)" context="{'default_product_id': product_id, 'default_company_id': company_id}"/>
                <field name="package_id" groups="stock.group_tracking_lot" attrs="{'readonly': [('id', '!=', False)]}"/>
                <field name="owner_id" groups="stock.group_tracking_owner" attrs="{'readonly': [('id', '!=', False)]}" options="{'no_create': True}"/>
                <field name="quantity" string="On Hand Quantity" invisible="1"/>
                <field name="inventory_quantity" string="On Hand Quantity" readonly="0"/>
                <field name="reserved_quantity" optional="hide"/>
                <field name="product_uom_id" groups="uom.group_uom"/>
                <field name="company_id" groups="base.group_multi_company" optional="show"/>
            </tree>
        </field>
    </record>



    <record id="flsp_inv_count_view_action" model="ir.actions.act_window">
        <field name="name">Inventory Count</field>
        <field name="res_model">flsp.inv.count</field>
        <field name="type">ir.actions.act_window</field>
        <field name ="view_id" eval="False"/>
        <!--field name="view_id" ref="flsp_quant_tree_editable"/-->
        <field name="domain">[('flsp_inv_count', '=', True)]</field>
        <field name = "view_mode">tree,form</field>
        <field name="help" type="html">
          <p class="o_view_nocontent_smiling_face">You don't have any products to adjust</p>
        </field>
    </record>

    <menuitem id="flsp_inv_count_menu"
              name="FLSP Inventory Count"
              parent="stock.menu_stock_warehouse_mgmt"
              sequence="151"
              action="flsp_inv_count_view_action"/>

</odoo>
